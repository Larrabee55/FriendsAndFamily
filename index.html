<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script>
    //change on the drop down
    function drpJSON() {
      var data_file = "FriendsAndFamily.json";
      var http_request = new XMLHttpRequest();
      try {
        // Opera 8.0+, Firefox, Chrome, Safari
        http_request = new XMLHttpRequest();

      } catch (e) {
        // Internet Explorer Browsers
        try {
          http_request = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (e) {
            // Something went wrong
            alert("Your browser broke!");
            return false;
          }
        }
      }
      http_request.onreadystatechange = function () {
        if (http_request.readyState == 4) {
          // Javascript function JSON.parse to parse JSON data
          var jsonObj = JSON.parse(http_request.responseText);

          // jsonObj variable now contains the data structure and can
          // be accessed as jsonObj.name and jsonObj.country.
          var Name = "";
          var Relation = "";
          for (var i = 0; i < jsonObj.people.length; i++) {
            if (jsonObj.people[i].relation == document.getElementById("relationSel").value && document.getElementById("relationSel").value != 0) {
              Name = Name + jsonObj.people[i].name + " " + jsonObj.people[i].lname + "<br>";
              Relation = Relation + jsonObj.people[i].relation + "<br>";

              var selection = i;
            }
          }
          console.log(selection + "using my code");
          document.getElementById("Name").innerHTML = Name;
          document.getElementById("Relation").innerHTML = Relation;
        }
      }
      http_request.open("GET", data_file, true);
      http_request.send();
    }
    // for the write in element
    function wrtJSON() {

      var data_file = "FriendsAndFamily.json";
      var http_request = new XMLHttpRequest();

      try {
        // Opera 8.0+, Firefox, Chrome, Safari
        http_request = new XMLHttpRequest();

      } catch (e) {
        // Internet Explorer Browsers
        try {
          http_request = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (e) {
            // Something went wrong
            alert("Your browser broke!");
            return false;
          }
        }
      }
      http_request.onreadystatechange = function () {
        if (http_request.readyState == 4) {
          // Javascript function JSON.parse to parse JSON data
          var jsonObj = JSON.parse(http_request.responseText);

          // jsonObj variable now contains the data structure and can
          // be accessed as jsonObj.name and jsonObj.country.
          var Name = "";
          var Relation = "";

          for (var i = 0; i < jsonObj.people.length; i++) {
            console.log(i)
            if (jsonObj.people[i].name.indexOf(document.getElementById("RelationName").value) > -1 && document.getElementById("RelationName").value != "" || jsonObj.people[i].lname == document.getElementById("relationSel").value && document.getElementById("relationSel").value != 0) {
              Name = Name + jsonObj.people[i].name + " " + jsonObj.people[i].lname + "<br>";
              Relation = Relation + jsonObj.people[i].relation + "<br>";

              var selection = i;
            }
          }
          console.log(selection + "Using my code");
          document.getElementById("Name").innerHTML = Name;
          document.getElementById("Relation").innerHTML = Relation;
        }
      }
      http_request.open("GET", data_file, true);
      http_request.send();
    }

    function allJSON() {

      var data_file = "FriendsAndFamily.json";
      var http_request = new XMLHttpRequest();

      try {
        // Opera 8.0+, Firefox, Chrome, Safari
        http_request = new XMLHttpRequest();

      } catch (e) {
        // Internet Explorer Browsers
        try {
          http_request = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (e) {
            // Something went wrong
            alert("Your browser broke!");
            return false;
          }
        }
      }
      http_request.onreadystatechange = function () {
        if (http_request.readyState == 4) {
          // Javascript function JSON.parse to parse JSON data
          var jsonObj = JSON.parse(http_request.responseText);

          // jsonObj variable now contains the data structure and can
          // be accessed as jsonObj.name and jsonObj.country.
          var Name = "";
          var Relation = "";

          for (var i = 0; i < jsonObj.people.length; i++) {
            console.log(i)
            Name = Name + jsonObj.people[i].name + " " + jsonObj.people[i].lname + "<br>";
            Relation = Relation + jsonObj.people[i].relation + "<br>";
          }

          document.getElementById("Name").innerHTML = Name;
          document.getElementById("Relation").innerHTML = Relation;
        }
      }
      http_request.open("GET", data_file, true);
      http_request.send();
    }
  </script>
  <title>Friends And Family Assignment</title>
</head>

<body>
  <div class="container">
    <div class="row my-4">
      <div class="col-md-12 d-flex justify-content-center">
        <h1>Friends and Family</h1>
      </div>
    </div>
    <div class="row m-4">
      <div class="col-md-12 d-flex justify-content-center my-3">How to Search</div>
      <div class="col-md-3">
        <div class="central">Relationship:
          <select id='relationSel' onchange="drpJSON()">
            <option value='0'>--</option>
            <option value="Brother">Brother</option>"
            <option value="Father">Father</option>"
            <option value="Mother">Mother</option>"
            <option value="Friend">Friend</option>"
            <option value="Girlfriend">Girlfriend</option>"
          </select>
        </div>
      </div>
      <div class="col-md-3">
        Last Name: <input type="text" name="RelationName" id="RelationName" onkeyup="wrtJSON()">
        <!-- <input type="button" onclick="wrtJSON()" value="Pick"> -->
      </div>
      <div class="col-md-3">
        <button onclick="allJSON()">ALL</button>
      </div>
      <div class="col-md-3">

      </div>
    </div>
    <div class="row my-5">
      <div class="col-md-6">
        <h3 class="d-flex justify-content-center">NAME</h3>
        <div class="d-flex justify-content-center" id="Name">None Selected</div>
      </div>
      <div class="col-md-6">
        <h3 class="d-flex justify-content-center">Relation</h3>
        <div class="d-flex justify-content-center" id="Relation">None Selected</div>
      </div>
    </div>
  </div>

  <!-- <br>
  <table class="src">
    <tr>
      <th>Name</th>
      <th>Relation</th>
    </tr>
    <tr>
      <td>
        <div id="Name">None Selected</div>
      </td>
      <td>
        <div id="Relation">None Selected</div>
      </td>
    </tr>
  </table> -->

  <!-- <script>
    var data_file = "FriendsAndFamily.json";
    var http_request = new XMLHttpRequest();

    try {
      // Opera 8.0+, Firefox, Chrome, Safari
      http_request = new XMLHttpRequest();

    } catch (e) {
      // Internet Explorer Browsers
      try {
        http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } catch (e) {
        try {
          http_request = new ActiveXObject("Microsoft.XMLHTTP");
        } catch (e) {
          // Something went wrong
          alert("Your browser broke!");
        }
      }
    }
    http_request.onreadystatechange = function () {
      if (http_request.readyState == 4) {
        // Javascript function JSON.parse to parse JSON data
        var jsonObj = JSON.parse(http_request.responseText);
        var text = "<option value='0'>--</option>";
        for (var i = 0; i < jsonObj.people.length; i++) {
          text = text + "<option value = '" + jsonObj.people[i].relation + "'> " + jsonObj.people[i].relation + "</option>";

        }
        document.getElementById("relationSel").innerHTML = text;
      }
    }
    http_request.open("GET", data_file, true);
    http_request.send();
  </script> -->
</body>

</html>
<!-- <div class="container">
    <div class="jumbotron">
      <h1>Friends And Family Search</h1>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <div class="input-group">
          <input type="text" class="form-control" aria-label="...">
          <div class="input-group-btn">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">Action <span class="caret"></span></button>
            <ul class="dropdown-menu dropdown-menu-right">
              <li><a href="#">Friends</a></li>
              <li><a href="#">Family</a></li>
              <li><a href="#">Name</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div> -->