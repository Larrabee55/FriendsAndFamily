<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script>
    //change on the drop down
    function drpJSON() {
      var data_file = "FriendsAndFamily.json";
      var http_request = new XMLHttpRequest();
      try {
        // Opera 8.0+, Firefox, Chrome, Safari
        http_request = new XMLHttpRequest();

      } catch (e) {
        // Internet Explorer Browsers
        try {
          http_request = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            http_request = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (e) {
            // Something went wrong
            alert("Your browser broke!");
            return false;
          }
        }
      }
      http_request.onreadystatechange = function () {
        if (http_request.readyState == 4) {
          // Javascript function JSON.parse to parse JSON data
          var jsonObj = JSON.parse(http_request.responseText);

          // jsonObj variable now contains the data structure and can
          // be accessed as jsonObj.name and jsonObj.country.
          var Name = "";
          var Relation = "";
          for (var i = 0; i < jsonObj.people.length; i++) {
            if (jsonObj.people[i].id == document.getElementById("relationSel").value && document.getElementById("relationSel").value != 0) {
              Name = Name + jsonObj.people[i].fname + " " + jsonObj.people[i].lname + "<br>";
              Relation = Relation + jsonObj.people[i].relation + "<br>";

              var selection = i;
            }
          }
          console.log(selection + "using my code");
          document.getElementById("Name").innerHTML = Name;
          document.getElementById("Relation").innerHTML = Relation;
        }
      }
      http_request.open("GET", data_file, true);
      http_request.send();
    }
    //for the write in element
    // function wrtJSON() {

    //   var data_file = "FriendsAndFamily.json";
    //   var http_request = new XMLHttpRequest();

    //   try {
    //     // Opera 8.0+, Firefox, Chrome, Safari
    //     http_request = new XMLHttpRequest();

    //   } catch (e) {
    //     // Internet Explorer Browsers
    //     try {
    //       http_request = new ActiveXObject("Msxml2.XMLHTTP");
    //     } catch (e) {
    //       try {
    //         http_request = new ActiveXObject("Microsoft.XMLHTTP");
    //       } catch (e) {
    //         // Something went wrong
    //         alert("Your browser broke!");
    //         return false;
    //       }
    //     }
    //   }
    //   http_request.onreadystatechange = function () {
    //     if (http_request.readyState == 4) {
    //       // Javascript function JSON.parse to parse JSON data
    //       var jsonObj = JSON.parse(http_request.responseText);

    //       // jsonObj variable now contains the data structure and can
    //       // be accessed as jsonObj.name and jsonObj.country.
    //       var Title = "";
    //       var Author = "";

    //       for (var i = 0; i < jsonObj.people.length; i++) {
    //         console.log(i)
    //         if (jsonObj.people[i].Author.indexOf(document.getElementById("AuthorName").value) > -1 && document.getElementById("AuthorName").value != "") {
    //           Title = Title + jsonObj.people[i].Title + "<br>";
    //           Author = Author + jsonObj.people[i].Author + "<br>";

    //           var selection = i;
    //         }
    //       }
    //       console.log(selection + "Using my code");
    //       document.getElementById("booklist").innerHTML = "";
    //       document.getElementById("Title").innerHTML = Title;
    //       document.getElementById("Author").innerHTML = Author;
    //     }
    //   }
    //   http_request.open("GET", data_file, true);
    //   http_request.send();
    // }
  </script>
  <title>Friends And Family Assignment</title>
</head>

<body>
  <h1>Friends and Family</h1>
  <div class="central">Relationship:
    <select id='relationSel' onchange="drpJSON()">
      <option value='0'>--</option>
      <option value="Brother">Brother</option>"
      <option value="Father">Father</option>"
      <option value="Mother">Mother</option>"
      <option value="Friend">Friend</option>"
      <option value="Girlfriend">Girlfriend</option>"
    </select>
    Or Enter Name: <input type="text" name="AuthorName" id="AuthorName" onkeyup="wrtJSON()">
    <input type="button" onclick="wrtJSON()" value="Pick">
  </div>
  <br>
  <table class="src">
    <tr>
      <th>Name</th>
      <th>Relation</th>
    </tr>
    <tr>
      <td>
        <div id="Name">None Selected</div>
      </td>
      <td>
        <div id="Relation">None Selected</div>
      </td>
    </tr>
  </table>

  <!-- <script>
    var data_file = "FriendsAndFamily.json";
    var http_request = new XMLHttpRequest();

    try {
      // Opera 8.0+, Firefox, Chrome, Safari
      http_request = new XMLHttpRequest();

    } catch (e) {
      // Internet Explorer Browsers
      try {
        http_request = new ActiveXObject("Msxml2.XMLHTTP");
      } catch (e) {
        try {
          http_request = new ActiveXObject("Microsoft.XMLHTTP");
        } catch (e) {
          // Something went wrong
          alert("Your browser broke!");
        }
      }
    }
    http_request.onreadystatechange = function () {
      if (http_request.readyState == 4) {
        // Javascript function JSON.parse to parse JSON data
        var jsonObj = JSON.parse(http_request.responseText);
        var text = "<option value='0'>--</option>";
        for (var i = 0; i < jsonObj.people.length; i++) {
          text = text + "<option value = '" + jsonObj.people[i].relation + "'> " + jsonObj.people[i].relation + "</option>";

        }
        document.getElementById("relationSel").innerHTML = text;
      }
    }
    http_request.open("GET", data_file, true);
    http_request.send();
  </script> -->
</body>

</html>
<!-- <div class="container">
    <div class="jumbotron">
      <h1>Friends And Family Search</h1>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <div class="input-group">
          <input type="text" class="form-control" aria-label="...">
          <div class="input-group-btn">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">Action <span class="caret"></span></button>
            <ul class="dropdown-menu dropdown-menu-right">
              <li><a href="#">Friends</a></li>
              <li><a href="#">Family</a></li>
              <li><a href="#">Name</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div> -->